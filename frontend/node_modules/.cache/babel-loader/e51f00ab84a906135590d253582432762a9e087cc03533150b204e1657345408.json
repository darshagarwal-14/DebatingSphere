{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DEEPAK AGARWAL\\\\Downloads\\\\Claude Code Trial\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\n  const [motion, setMotion] = useState('');\n  const [side, setSide] = useState('auto');\n  const [timeLimit, setTimeLimit] = useState(5); // in minutes\n  const [turns, setTurns] = useState([]);\n  const [recording, setRecording] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [aiSpeaking, setAiSpeaking] = useState(false);\n  const [assignedSide, setAssignedSide] = useState(null);\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\n  const [debateStarted, setDebateStarted] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [debateState, setDebateState] = useState('opening'); // opening, rebuttal, counterargument, closing\n  const [currentRound, setCurrentRound] = useState(1);\n  const recorderRef = useRef(null);\n  const timerRef = useRef(null);\n  const audioUrlsRef = useRef([]);\n  const activeAudioRef = useRef(null);\n  const utteranceRef = useRef(null);\n  const animationRef = useRef(null);\n  const resetLocalSession = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    if (activeAudioRef.current) {\n      activeAudioRef.current.pause();\n      activeAudioRef.current = null;\n    }\n    window.speechSynthesis.cancel();\n    audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\n    audioUrlsRef.current = [];\n    setTurns([]);\n    setRecording(false);\n    setRecordingTime(0);\n    setAiSpeaking(false);\n    setCurrentSpeaker(null);\n    setCurrentRound(1);\n    setDebateState('opening');\n  };\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n      if (activeAudioRef.current) {\n        activeAudioRef.current.pause();\n      }\n      window.speechSynthesis.cancel();\n      audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\n      audioUrlsRef.current = [];\n    };\n  }, []);\n  const advanceDebatePhase = () => {\n    setDebateState(prev => {\n      switch (prev) {\n        case 'opening':\n          return 'rebuttal';\n        case 'rebuttal':\n          return 'counterargument';\n        case 'counterargument':\n          return 'closing';\n        default:\n          return 'closing';\n      }\n    });\n    setCurrentRound(prev => prev + 1);\n  };\n  const clearWordAnimation = () => {\n    if (animationRef.current) {\n      clearInterval(animationRef.current);\n      animationRef.current = null;\n    }\n    setIsAnimating(false);\n    setCurrentWordIndex(0);\n  };\n  const startWordAnimation = (text, durationMs = 4000) => {\n    clearWordAnimation();\n    const words = (text || '').split(' ').filter(Boolean);\n    if (!words.length) {\n      return;\n    }\n    setIsAnimating(true);\n    setCurrentWordIndex(0);\n    const interval = Math.max(durationMs / words.length, 80);\n    let index = 0;\n    animationRef.current = setInterval(() => {\n      index += 1;\n      setCurrentWordIndex(current => index < words.length ? index : current);\n      if (index >= words.length) {\n        clearWordAnimation();\n      }\n    }, interval);\n  };\n  const startDebate = async () => {\n    if (!motion.trim()) {\n      alert('Please enter a debate motion before starting.');\n      return;\n    }\n    try {\n      resetLocalSession();\n      const response = await axios.post(`${API_BASE}/start`, {\n        motion: motion.trim(),\n        side,\n        timeLimit\n      });\n      setAssignedSide(response.data.assignedSide);\n      setDebateStarted(true);\n      setDebateState('opening');\n      setCurrentRound(1);\n      if (response.data.aiText) {\n        const aiData = JSON.parse(response.data.aiText);\n        setTurns([{\n          speaker: 'ai',\n          text: aiData.text,\n          data: aiData,\n          round: 1,\n          state: 'opening'\n        }]);\n        setCurrentSpeaker('ai');\n        await speak(aiData.text);\n      } else {\n        setCurrentSpeaker('user');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Start debate error:', error);\n      alert('Failed to start debate: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message));\n    }\n  };\n  const record = async () => {\n    if (recording || aiSpeaking || currentSpeaker !== 'user') {\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm'\n      });\n      recorderRef.current = mediaRecorder;\n      const chunks = [];\n      mediaRecorder.ondataavailable = event => {\n        if (event.data && event.data.size > 0) {\n          chunks.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        stream.getTracks().forEach(track => track.stop());\n        if (timerRef.current) {\n          clearInterval(timerRef.current);\n          timerRef.current = null;\n        }\n        setRecording(false);\n        setRecordingTime(0);\n        recorderRef.current = null;\n        if (chunks.length > 0) {\n          const blob = new Blob(chunks, {\n            type: 'audio/webm'\n          });\n          setAudioBlob(blob);\n        }\n      };\n      mediaRecorder.start();\n      setRecording(true);\n      setRecordingTime(0);\n      timerRef.current = setInterval(() => {\n        setRecordingTime(prev => {\n          const nextTime = prev + 1;\n          if (nextTime >= timeLimit * 60) {\n            stopRecord();\n            alert('Time limit reached! Recording stopped.');\n            return prev;\n          }\n          return nextTime;\n        });\n      }, 1000);\n    } catch (error) {\n      console.error('Microphone access error:', error);\n      alert('Could not access microphone. Please allow microphone permissions and try again.');\n    }\n  };\n  const stopRecord = () => {\n    const recorder = recorderRef.current;\n    if (!recorder || recorder.state === 'inactive') {\n      return;\n    }\n    recorder.stop();\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n  useEffect(() => {\n    if (!audioBlob) {\n      return;\n    }\n    processRecording(audioBlob);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [audioBlob]);\n  const processRecording = async blob => {\n    const userBlob = blob;\n    setAudioBlob(null);\n    setCurrentSpeaker('ai');\n    try {\n      const fileName = `user-turn-${Date.now()}.webm`;\n      const formData = new FormData();\n      formData.append('file', userBlob, fileName);\n      const {\n        data\n      } = await axios.post(`${API_BASE}/transcribe`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const userText = (data.transcript || '').trim() || '[No speech detected]';\n      const objectUrl = URL.createObjectURL(userBlob);\n      audioUrlsRef.current.push(objectUrl);\n      const timestamp = new Date().toISOString();\n      const userTurn = {\n        speaker: 'user',\n        text: userText,\n        audioUrl: objectUrl,\n        round: currentRound,\n        state: debateState,\n        timestamp\n      };\n      setTurns(prev => [...prev, userTurn]);\n      const aiResponse = await axios.post(`${API_BASE}/reply`, {\n        userText,\n        round: currentRound,\n        state: debateState,\n        transcript: userText\n      });\n      const aiData = JSON.parse(aiResponse.data.text);\n      const aiTurn = {\n        speaker: 'ai',\n        text: aiData.text,\n        data: aiData,\n        round: currentRound,\n        state: debateState,\n        timestamp: new Date().toISOString()\n      };\n      setTurns(prev => [...prev, aiTurn]);\n      await speak(aiData.text);\n      advanceDebatePhase();\n    } catch (error) {\n      console.error('Recording or transcription failed:', error);\n      alert('Recording or transcription failed. Please try again.');\n      setCurrentSpeaker('user');\n    }\n  };\n  const playRemoteAudio = (url, text) => new Promise(resolve => {\n    clearWordAnimation();\n    const audio = new Audio(`${url}?v=${Date.now()}`);\n    activeAudioRef.current = audio;\n    audio.onloadedmetadata = () => {\n      const duration = (audio.duration || 5) * 1000;\n      startWordAnimation(text, duration);\n    };\n    audio.onerror = () => {\n      activeAudioRef.current = null;\n      resolve();\n    };\n    audio.onended = () => {\n      activeAudioRef.current = null;\n      resolve();\n    };\n    audio.play().catch(() => {\n      activeAudioRef.current = null;\n      resolve();\n    });\n  });\n  const speakWithBrowserTts = text => new Promise(resolve => {\n    if (!text) {\n      resolve();\n      return;\n    }\n    if (!window.speechSynthesis) {\n      resolve();\n      return;\n    }\n    window.speechSynthesis.cancel();\n    clearWordAnimation();\n    const utterance = new SpeechSynthesisUtterance(text);\n    utterance.rate = 0.95;\n    utterance.pitch = 1;\n    utterance.volume = 0.9;\n    const voices = window.speechSynthesis.getVoices();\n    const preferredVoice = voices.find(voice => voice.lang.startsWith('en'));\n    if (preferredVoice) {\n      utterance.voice = preferredVoice;\n    }\n    utterance.onend = () => {\n      utteranceRef.current = null;\n      resolve();\n    };\n    utterance.onerror = () => {\n      utteranceRef.current = null;\n      resolve();\n    };\n    utteranceRef.current = utterance;\n    const estimatedDuration = Math.max(text.split(' ').length * 450, 1500);\n    startWordAnimation(text, estimatedDuration);\n    window.speechSynthesis.speak(utterance);\n  });\n  const speak = async payload => {\n    const speechText = typeof payload === 'string' ? payload : (payload === null || payload === void 0 ? void 0 : payload.text) || '';\n    if (!speechText) {\n      return;\n    }\n    setAiSpeaking(true);\n    setCurrentSpeaker('ai');\n    setCurrentWordIndex(0);\n    try {\n      const {\n        data\n      } = await axios.post(`${API_BASE}/speak`, {\n        text: speechText\n      });\n      if (data.type === 'file' && data.audioUrl) {\n        await playRemoteAudio(`${API_BASE}${data.audioUrl}`, speechText);\n      } else {\n        await speakWithBrowserTts(data.text || speechText);\n      }\n    } catch (error) {\n      console.error('TTS failed:', error);\n      await speakWithBrowserTts(speechText);\n    } finally {\n      clearWordAnimation();\n      setAiSpeaking(false);\n      setCurrentSpeaker('user');\n    }\n  };\n  const renderAnimatedText = (text, isActive) => {\n    if (!isActive || !isAnimating || !text) return text;\n    const words = text.split(' ');\n    return words.map((word, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: index <= currentWordIndex ? 'highlight' : '',\n      children: [word, ' ']\n    }, `${word}-${index}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"AI Debate Partner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Debate Motion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: motion,\n            onChange: e => setMotion(e.target.value),\n            placeholder: \"Enter your debate topic...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Your Side\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: side,\n            onChange: e => setSide(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"auto\",\n              children: \"Auto Assign Side\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pro\",\n              children: \"Proposition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"opp\",\n              children: \"Opposition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Speech Time Limit (minutes)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: timeLimit,\n            onChange: e => setTimeLimit(parseInt(e.target.value)),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 3,\n              children: \"3 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              children: \"5 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 7,\n              children: \"7 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10,\n              children: \"10 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"start-button\",\n          onClick: startDebate,\n          children: \"Start Debate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), debateStarted && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debate-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Motion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: motion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Side\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: side === 'auto' ? assignedSide === 'pro' ? 'Proposition' : 'Opposition' : side === 'pro' ? 'Proposition' : 'Opposition'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Speech Time Limit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [timeLimit, \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat\",\n        children: [turns.map((turn, i) => {\n          const isLatestAI = turn.speaker === 'ai' && i === turns.length - 1;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `turn ${turn.speaker}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"speaker-indicator\",\n              children: turn.speaker === 'ai' ? 'AI' : 'You'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: isLatestAI && isAnimating ? 'animated-text' : '',\n              children: renderAnimatedText(turn.text, isLatestAI)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this), turn.speaker === 'ai' && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"play-button\",\n              onClick: () => speak(turn.text),\n              children: \"Play Audio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this), turn.speaker === 'user' && turn.audioUrl && /*#__PURE__*/_jsxDEV(\"audio\", {\n              controls: true,\n              src: turn.audioUrl,\n              \"aria-label\": \"Your recorded reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this)]\n          }, `${turn.speaker}-${i}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this);\n        }), aiSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-speaking\",\n          children: \"AI is speaking...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [currentSpeaker === 'user' && !aiSpeaking && !debateStarted && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"instruction-message\",\n        children: \"Press the \\\"Record Response\\\" button to start recording your speech.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this), currentSpeaker === 'user' && !aiSpeaking && debateStarted && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"turn-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Your Turn - \", debateState.charAt(0).toUpperCase() + debateState.slice(1), \" Speech\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Round \", currentRound, \" | Time Limit: \", timeLimit, \" minutes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `record-button ${recording ? 'recording' : ''}`,\n          onClick: record,\n          disabled: recording,\n          children: recording ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Recording (\", Math.floor(recordingTime / 60), \":\", (recordingTime % 60).toString().padStart(2, '0'), \")\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"audio-visualizer\",\n              \"aria-hidden\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : 'Record Response'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"stop-button\",\n          onClick: stopRecord,\n          disabled: !recording,\n          children: \"Stop & Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), currentSpeaker === 'ai' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"waiting-message\",\n        children: \"AI is preparing its response...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 37\n      }, this), aiSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"waiting-message\",\n        children: \"AI is speaking...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 367,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"N/Yaf8fGWgo3g1/l+06vsEAp8vk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","API_BASE","process","env","REACT_APP_API_BASE","motion","setMotion","side","setSide","timeLimit","setTimeLimit","turns","setTurns","recording","setRecording","audioBlob","setAudioBlob","aiSpeaking","setAiSpeaking","assignedSide","setAssignedSide","currentSpeaker","setCurrentSpeaker","debateStarted","setDebateStarted","recordingTime","setRecordingTime","currentWordIndex","setCurrentWordIndex","isAnimating","setIsAnimating","debateState","setDebateState","currentRound","setCurrentRound","recorderRef","timerRef","audioUrlsRef","activeAudioRef","utteranceRef","animationRef","resetLocalSession","current","clearInterval","pause","window","speechSynthesis","cancel","forEach","url","URL","revokeObjectURL","advanceDebatePhase","prev","clearWordAnimation","startWordAnimation","text","durationMs","words","split","filter","Boolean","length","interval","Math","max","index","setInterval","startDebate","trim","alert","response","post","data","aiText","aiData","JSON","parse","speaker","round","state","speak","error","_error$response","_error$response$data","console","message","record","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","mimeType","chunks","ondataavailable","event","size","push","onstop","getTracks","track","stop","blob","Blob","type","start","nextTime","stopRecord","recorder","processRecording","userBlob","fileName","Date","now","formData","FormData","append","headers","userText","transcript","objectUrl","createObjectURL","timestamp","toISOString","userTurn","audioUrl","aiResponse","aiTurn","playRemoteAudio","Promise","resolve","Audio","onloadedmetadata","duration","onerror","onended","play","catch","speakWithBrowserTts","utterance","SpeechSynthesisUtterance","rate","pitch","volume","voices","getVoices","preferredVoice","find","voice","lang","startsWith","onend","estimatedDuration","payload","speechText","renderAnimatedText","isActive","map","word","className","children","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","parseInt","onClick","turn","i","isLatestAI","controls","src","charAt","toUpperCase","slice","disabled","floor","toString","padStart","_c","$RefreshReg$"],"sources":["C:/Users/DEEPAK AGARWAL/Downloads/Claude Code Trial/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\r\n\r\n  const [motion, setMotion] = useState('');\r\n  const [side, setSide] = useState('auto');\r\n  const [timeLimit, setTimeLimit] = useState(5); // in minutes\r\n  const [turns, setTurns] = useState([]);\r\n  const [recording, setRecording] = useState(false);\r\n  const [audioBlob, setAudioBlob] = useState(null);\r\n  const [aiSpeaking, setAiSpeaking] = useState(false);\r\n  const [assignedSide, setAssignedSide] = useState(null);\r\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\r\n  const [debateStarted, setDebateStarted] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  const [debateState, setDebateState] = useState('opening'); // opening, rebuttal, counterargument, closing\r\n  const [currentRound, setCurrentRound] = useState(1);\r\n\r\n  const recorderRef = useRef(null);\r\n  const timerRef = useRef(null);\r\n  const audioUrlsRef = useRef([]);\r\n  const activeAudioRef = useRef(null);\r\n  const utteranceRef = useRef(null);\r\n  const animationRef = useRef(null);\r\n\r\n  const resetLocalSession = () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n    if (activeAudioRef.current) {\r\n      activeAudioRef.current.pause();\r\n      activeAudioRef.current = null;\r\n    }\r\n    window.speechSynthesis.cancel();\r\n    audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\r\n    audioUrlsRef.current = [];\r\n    setTurns([]);\r\n    setRecording(false);\r\n    setRecordingTime(0);\r\n    setAiSpeaking(false);\r\n    setCurrentSpeaker(null);\r\n    setCurrentRound(1);\r\n    setDebateState('opening');\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n      if (activeAudioRef.current) {\r\n        activeAudioRef.current.pause();\r\n      }\r\n      window.speechSynthesis.cancel();\r\n      audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\r\n      audioUrlsRef.current = [];\r\n    };\r\n  }, []);\r\n\r\n  const advanceDebatePhase = () => {\r\n    setDebateState(prev => {\r\n      switch (prev) {\r\n        case 'opening':\r\n          return 'rebuttal';\r\n        case 'rebuttal':\r\n          return 'counterargument';\r\n        case 'counterargument':\r\n          return 'closing';\r\n        default:\r\n          return 'closing';\r\n      }\r\n    });\r\n    setCurrentRound(prev => prev + 1);\r\n  };\r\n\r\n  const clearWordAnimation = () => {\r\n    if (animationRef.current) {\r\n      clearInterval(animationRef.current);\r\n      animationRef.current = null;\r\n    }\r\n    setIsAnimating(false);\r\n    setCurrentWordIndex(0);\r\n  };\r\n\r\n  const startWordAnimation = (text, durationMs = 4000) => {\r\n    clearWordAnimation();\r\n    const words = (text || '').split(' ').filter(Boolean);\r\n    if (!words.length) {\r\n      return;\r\n    }\r\n    setIsAnimating(true);\r\n    setCurrentWordIndex(0);\r\n    const interval = Math.max(durationMs / words.length, 80);\r\n    let index = 0;\r\n    animationRef.current = setInterval(() => {\r\n      index += 1;\r\n      setCurrentWordIndex(current => (index < words.length ? index : current));\r\n      if (index >= words.length) {\r\n        clearWordAnimation();\r\n      }\r\n    }, interval);\r\n  };\r\n\r\n  const startDebate = async () => {\r\n    if (!motion.trim()) {\r\n      alert('Please enter a debate motion before starting.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      resetLocalSession();\r\n      const response = await axios.post(`${API_BASE}/start`, { motion: motion.trim(), side, timeLimit });\r\n      setAssignedSide(response.data.assignedSide);\r\n      setDebateStarted(true);\r\n      setDebateState('opening');\r\n      setCurrentRound(1);\r\n\r\n      if (response.data.aiText) {\r\n        const aiData = JSON.parse(response.data.aiText);\r\n        setTurns([{ speaker: 'ai', text: aiData.text, data: aiData, round: 1, state: 'opening' }]);\r\n        setCurrentSpeaker('ai');\r\n        await speak(aiData.text);\r\n      } else {\r\n        setCurrentSpeaker('user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Start debate error:', error);\r\n      alert('Failed to start debate: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const record = async () => {\n    if (recording || aiSpeaking || currentSpeaker !== 'user') {\n      return;\n    }\r\n\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      const mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/webm' });\r\n      recorderRef.current = mediaRecorder;\r\n      const chunks = [];\r\n\r\n      mediaRecorder.ondataavailable = event => {\r\n        if (event.data && event.data.size > 0) {\r\n          chunks.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        stream.getTracks().forEach(track => track.stop());\r\n        if (timerRef.current) {\r\n          clearInterval(timerRef.current);\r\n          timerRef.current = null;\r\n        }\r\n        setRecording(false);\r\n        setRecordingTime(0);\r\n        recorderRef.current = null;\r\n        if (chunks.length > 0) {\r\n          const blob = new Blob(chunks, { type: 'audio/webm' });\r\n          setAudioBlob(blob);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.start();\r\n      setRecording(true);\r\n      setRecordingTime(0);\r\n\r\n      timerRef.current = setInterval(() => {\r\n        setRecordingTime(prev => {\r\n          const nextTime = prev + 1;\r\n          if (nextTime >= timeLimit * 60) {\r\n            stopRecord();\r\n            alert('Time limit reached! Recording stopped.');\r\n            return prev;\r\n          }\r\n          return nextTime;\r\n        });\r\n      }, 1000);\r\n    } catch (error) {\r\n      console.error('Microphone access error:', error);\r\n      alert('Could not access microphone. Please allow microphone permissions and try again.');\n    }\n  };\n\n  const stopRecord = () => {\n    const recorder = recorderRef.current;\n    if (!recorder || recorder.state === 'inactive') {\n      return;\n    }\n    recorder.stop();\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!audioBlob) {\n      return;\n    }\n    processRecording(audioBlob);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [audioBlob]);\n\n  const processRecording = async blob => {\n    const userBlob = blob;\n    setAudioBlob(null);\n    setCurrentSpeaker('ai');\n\n    try {\n      const fileName = `user-turn-${Date.now()}.webm`;\n      const formData = new FormData();\n      formData.append('file', userBlob, fileName);\n      const { data } = await axios.post(`${API_BASE}/transcribe`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      const userText = (data.transcript || '').trim() || '[No speech detected]';\n      const objectUrl = URL.createObjectURL(userBlob);\n      audioUrlsRef.current.push(objectUrl);\n\n      const timestamp = new Date().toISOString();\n      const userTurn = {\n        speaker: 'user',\n        text: userText,\n        audioUrl: objectUrl,\n        round: currentRound,\n        state: debateState,\n        timestamp\n      };\n\n      setTurns(prev => [...prev, userTurn]);\n\n      const aiResponse = await axios.post(`${API_BASE}/reply`, {\n        userText,\n        round: currentRound,\n        state: debateState,\n        transcript: userText\n      });\n\n      const aiData = JSON.parse(aiResponse.data.text);\n      const aiTurn = {\n        speaker: 'ai',\n        text: aiData.text,\n        data: aiData,\n        round: currentRound,\n        state: debateState,\n        timestamp: new Date().toISOString()\n      };\n      setTurns(prev => [...prev, aiTurn]);\n      await speak(aiData.text);\n      advanceDebatePhase();\n    } catch (error) {\n      console.error('Recording or transcription failed:', error);\n      alert('Recording or transcription failed. Please try again.');\n      setCurrentSpeaker('user');\n    }\n  };\n\r\n  const playRemoteAudio = (url, text) =>\r\n    new Promise(resolve => {\r\n      clearWordAnimation();\r\n      const audio = new Audio(`${url}?v=${Date.now()}`);\r\n      activeAudioRef.current = audio;\r\n\r\n      audio.onloadedmetadata = () => {\r\n        const duration = (audio.duration || 5) * 1000;\r\n        startWordAnimation(text, duration);\r\n      };\r\n\r\n      audio.onerror = () => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      };\r\n\r\n      audio.onended = () => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      };\r\n\r\n      audio.play().catch(() => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      });\r\n    });\r\n\r\n  const speakWithBrowserTts = text =>\r\n    new Promise(resolve => {\r\n      if (!text) {\r\n        resolve();\r\n        return;\r\n      }\r\n      if (!window.speechSynthesis) {\r\n        resolve();\r\n        return;\r\n      }\r\n      window.speechSynthesis.cancel();\r\n      clearWordAnimation();\r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.rate = 0.95;\r\n      utterance.pitch = 1;\r\n      utterance.volume = 0.9;\r\n      const voices = window.speechSynthesis.getVoices();\r\n      const preferredVoice = voices.find(voice => voice.lang.startsWith('en'));\r\n      if (preferredVoice) {\r\n        utterance.voice = preferredVoice;\r\n      }\r\n      utterance.onend = () => {\r\n        utteranceRef.current = null;\r\n        resolve();\r\n      };\r\n      utterance.onerror = () => {\r\n        utteranceRef.current = null;\r\n        resolve();\r\n      };\r\n      utteranceRef.current = utterance;\r\n      const estimatedDuration = Math.max(text.split(' ').length * 450, 1500);\r\n      startWordAnimation(text, estimatedDuration);\r\n      window.speechSynthesis.speak(utterance);\r\n    });\r\n\r\n  const speak = async payload => {\r\n    const speechText = typeof payload === 'string' ? payload : payload?.text || '';\r\n    if (!speechText) {\r\n      return;\r\n    }\r\n\r\n    setAiSpeaking(true);\r\n    setCurrentSpeaker('ai');\r\n    setCurrentWordIndex(0);\r\n\r\n    try {\r\n      const { data } = await axios.post(`${API_BASE}/speak`, { text: speechText });\r\n      if (data.type === 'file' && data.audioUrl) {\r\n        await playRemoteAudio(`${API_BASE}${data.audioUrl}`, speechText);\r\n      } else {\r\n        await speakWithBrowserTts(data.text || speechText);\r\n      }\r\n    } catch (error) {\r\n      console.error('TTS failed:', error);\r\n      await speakWithBrowserTts(speechText);\r\n    } finally {\r\n      clearWordAnimation();\r\n      setAiSpeaking(false);\r\n      setCurrentSpeaker('user');\r\n    }\r\n  };\r\n\r\n  const renderAnimatedText = (text, isActive) => {\r\n    if (!isActive || !isAnimating || !text) return text;\r\n\r\n    const words = text.split(' ');\r\n    return words.map((word, index) => (\r\n      <span key={`${word}-${index}`} className={index <= currentWordIndex ? 'highlight' : ''}>\r\n        {word}{' '}\r\n      </span>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"header\">\r\n        <h1>AI Debate Partner</h1>\r\n        <div className=\"setup-panel\">\r\n          <div className=\"form-group\">\r\n            <label>Debate Motion</label>\r\n            <input\r\n              value={motion}\r\n              onChange={e => setMotion(e.target.value)}\r\n              placeholder=\"Enter your debate topic...\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Your Side</label>\r\n            <select value={side} onChange={e => setSide(e.target.value)}>\r\n              <option value=\"auto\">Auto Assign Side</option>\r\n              <option value=\"pro\">Proposition</option>\r\n              <option value=\"opp\">Opposition</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Speech Time Limit (minutes)</label>\r\n            <select value={timeLimit} onChange={e => setTimeLimit(parseInt(e.target.value))}>\r\n              <option value={3}>3 minutes</option>\r\n              <option value={5}>5 minutes</option>\r\n              <option value={7}>7 minutes</option>\r\n              <option value={10}>10 minutes</option>\r\n            </select>\r\n          </div>\r\n          <button className=\"start-button\" onClick={startDebate}>Start Debate</button>\r\n        </div>\r\n      </div>\r\n\r\n      {debateStarted && (\r\n        <div className=\"debate-info\">\r\n          <div className=\"info-item\">\r\n            <h3>Motion</h3>\r\n            <p>{motion}</p>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <h3>Your Side</h3>\r\n            <p>{side === 'auto' ? (assignedSide === 'pro' ? 'Proposition' : 'Opposition') : side === 'pro' ? 'Proposition' : 'Opposition'}</p>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <h3>Speech Time Limit</h3>\r\n            <p>{timeLimit} minutes</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n\r\n      <div className=\"chat-container\">\r\n        <div className=\"chat\">\r\n          {turns.map((turn, i) => {\r\n            const isLatestAI = turn.speaker === 'ai' && i === turns.length - 1;\r\n            return (\r\n              <div key={`${turn.speaker}-${i}`} className={`turn ${turn.speaker}`}>\r\n                <div className=\"speaker-indicator\">\r\n                  {turn.speaker === 'ai' ? 'AI' : 'You'}\r\n                </div>\r\n                <p className={isLatestAI && isAnimating ? 'animated-text' : ''}>\r\n                  {renderAnimatedText(turn.text, isLatestAI)}\r\n                </p>\r\n                {turn.speaker === 'ai' && (\r\n                  <button className=\"play-button\" onClick={() => speak(turn.text)}>\r\n                    Play Audio\r\n                  </button>\r\n                )}\r\n                {turn.speaker === 'user' && turn.audioUrl && (\r\n                  <audio controls src={turn.audioUrl} aria-label=\"Your recorded reply\" />\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n          {aiSpeaking && <div className=\"ai-speaking\">AI is speaking...</div>}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"controls\">\r\n        {currentSpeaker === 'user' && !aiSpeaking && !debateStarted && (\r\n          <div className=\"instruction-message\">\r\n            Press the \"Record Response\" button to start recording your speech.\r\n          </div>\r\n        )}\r\n        {currentSpeaker === 'user' && !aiSpeaking && debateStarted && (\r\n          <>\r\n            <div className=\"turn-indicator\">\r\n              <h3>Your Turn - {debateState.charAt(0).toUpperCase() + debateState.slice(1)} Speech</h3>\r\n              <p>Round {currentRound} | Time Limit: {timeLimit} minutes</p>\r\n            </div>\r\n            <button\r\n              className={`record-button ${recording ? 'recording' : ''}`}\r\n              onClick={record}\r\n              disabled={recording}\r\n            >\r\n              {recording ? (\r\n                <>\r\n                  Recording ({Math.floor(recordingTime / 60)}:{(recordingTime % 60).toString().padStart(2, '0')})\r\n                  <div className=\"audio-visualizer\" aria-hidden=\"true\">\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                'Record Response'\r\n              )}\r\n            </button>\r\n            <button className=\"stop-button\" onClick={stopRecord} disabled={!recording}>\r\n              Stop &amp; Submit\r\n            </button>\r\n          </>\r\n        )}\r\n        {currentSpeaker === 'ai' && <div className=\"waiting-message\">AI is preparing its response...</div>}\r\n        {aiSpeaking && <div className=\"waiting-message\">AI is speaking...</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}