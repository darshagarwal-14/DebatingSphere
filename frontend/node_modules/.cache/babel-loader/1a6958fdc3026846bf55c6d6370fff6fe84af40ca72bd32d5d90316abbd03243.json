{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import'./App.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const API_BASE=process.env.REACT_APP_API_BASE||'http://localhost:3001';const[motion,setMotion]=useState('');const[side,setSide]=useState('auto');const[timeLimit,setTimeLimit]=useState(5);// in minutes\nconst[turns,setTurns]=useState([]);const[recording,setRecording]=useState(false);const[audioBlob,setAudioBlob]=useState(null);const[aiSpeaking,setAiSpeaking]=useState(false);const[assignedSide,setAssignedSide]=useState(null);const[currentSpeaker,setCurrentSpeaker]=useState(null);const[debateStarted,setDebateStarted]=useState(false);const[recordingTime,setRecordingTime]=useState(0);const[currentWordIndex,setCurrentWordIndex]=useState(0);const[isAnimating,setIsAnimating]=useState(false);const[debateState,setDebateState]=useState('opening');// opening, rebuttal, counterargument, closing\nconst[currentRound,setCurrentRound]=useState(1);const recorderRef=useRef(null);const timerRef=useRef(null);const audioUrlsRef=useRef([]);const activeAudioRef=useRef(null);const utteranceRef=useRef(null);const animationRef=useRef(null);const HIGHLIGHT_STRETCH=1.2;const stripPauseTokens=function(){let text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return text.replace(/\\[\\[PAUSE_LONG\\]\\]/g,' ').replace(/\\[\\[PAUSE_SHORT\\]\\]/g,' ').replace(/\\s{2,}/g,' ').trim();};const expandPauseTokensForSpeech=function(){let text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return text.replace(/\\[\\[PAUSE_LONG\\]\\]/g,'. . . ').replace(/\\[\\[PAUSE_SHORT\\]\\]/g,', ').replace(/\\s{2,}/g,' ').trim();};const resetLocalSession=()=>{if(timerRef.current){clearInterval(timerRef.current);timerRef.current=null;}if(activeAudioRef.current){activeAudioRef.current.pause();activeAudioRef.current=null;}window.speechSynthesis.cancel();audioUrlsRef.current.forEach(url=>URL.revokeObjectURL(url));audioUrlsRef.current=[];setTurns([]);setRecording(false);setRecordingTime(0);setAiSpeaking(false);setCurrentSpeaker(null);setCurrentRound(1);setDebateState('opening');};useEffect(()=>{return()=>{if(timerRef.current){clearInterval(timerRef.current);}if(activeAudioRef.current){activeAudioRef.current.pause();}window.speechSynthesis.cancel();audioUrlsRef.current.forEach(url=>URL.revokeObjectURL(url));audioUrlsRef.current=[];};},[]);const advanceDebatePhase=()=>{setDebateState(prev=>{switch(prev){case'opening':return'rebuttal';case'rebuttal':return'counterargument';case'counterargument':return'closing';default:return'closing';}});setCurrentRound(prev=>prev+1);};const clearWordAnimation=()=>{if(animationRef.current){clearInterval(animationRef.current);animationRef.current=null;}setIsAnimating(false);setCurrentWordIndex(0);};const startWordAnimation=function(text){let durationMs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4000;clearWordAnimation();const sanitized=stripPauseTokens(text);const words=sanitized.split(' ').filter(Boolean);if(!words.length){return;}setIsAnimating(true);setCurrentWordIndex(0);const interval=Math.max(durationMs/words.length,80);let index=0;animationRef.current=setInterval(()=>{index+=1;setCurrentWordIndex(current=>index<words.length?index:current);if(index>=words.length){clearWordAnimation();}},interval);};const startDebate=async()=>{if(!motion.trim()){alert('Please enter a debate motion before starting.');return;}try{resetLocalSession();const response=await axios.post(\"\".concat(API_BASE,\"/start\"),{motion:motion.trim(),side,timeLimit});setAssignedSide(response.data.assignedSide);setDebateStarted(true);setDebateState('opening');setCurrentRound(1);if(response.data.aiText){const aiData=JSON.parse(response.data.aiText);setTurns([{speaker:'ai',text:aiData.text,data:aiData,round:1,state:'opening'}]);setCurrentSpeaker('ai');await speak(aiData.text);}else{setCurrentSpeaker('user');}}catch(error){var _error$response,_error$response$data;console.error('Start debate error:',error);alert('Failed to start debate: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}};const record=async()=>{if(recording||aiSpeaking||currentSpeaker!=='user'){return;}if(activeAudioRef.current){activeAudioRef.current.pause();activeAudioRef.current=null;}window.speechSynthesis.cancel();clearWordAnimation();setAiSpeaking(false);try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const mediaRecorder=new MediaRecorder(stream,{mimeType:'audio/webm'});recorderRef.current=mediaRecorder;const chunks=[];mediaRecorder.ondataavailable=event=>{if(event.data&&event.data.size>0){chunks.push(event.data);}};mediaRecorder.onstop=()=>{stream.getTracks().forEach(track=>track.stop());if(timerRef.current){clearInterval(timerRef.current);timerRef.current=null;}setRecording(false);setRecordingTime(0);recorderRef.current=null;if(chunks.length>0){const blob=new Blob(chunks,{type:'audio/webm'});setAudioBlob(blob);}};mediaRecorder.start();setRecording(true);setRecordingTime(0);timerRef.current=setInterval(()=>{setRecordingTime(prev=>{const nextTime=prev+1;if(nextTime>=timeLimit*60){stopRecord();alert('Time limit reached! Recording stopped.');return prev;}return nextTime;});},1000);}catch(error){console.error('Microphone access error:',error);alert('Could not access microphone. Please allow microphone permissions and try again.');}};const stopRecord=()=>{const recorder=recorderRef.current;if(!recorder||recorder.state==='inactive'){return;}recorder.stop();if(timerRef.current){clearInterval(timerRef.current);timerRef.current=null;}};useEffect(()=>{if(!audioBlob){return;}processRecording(audioBlob);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[audioBlob]);const processRecording=async blob=>{const userBlob=blob;setAudioBlob(null);setCurrentSpeaker('ai');try{const fileName=\"user-turn-\".concat(Date.now(),\".webm\");const formData=new FormData();formData.append('file',userBlob,fileName);const{data}=await axios.post(\"\".concat(API_BASE,\"/transcribe\"),formData,{headers:{'Content-Type':'multipart/form-data'}});const userText=(data.transcript||'').trim()||'[No speech detected]';const objectUrl=URL.createObjectURL(userBlob);audioUrlsRef.current.push(objectUrl);const timestamp=new Date().toISOString();const userTurn={speaker:'user',text:userText,audioUrl:objectUrl,round:currentRound,state:debateState,timestamp};setTurns(prev=>[...prev,userTurn]);const aiResponse=await axios.post(\"\".concat(API_BASE,\"/reply\"),{userText,round:currentRound,state:debateState,transcript:userText});const aiData=JSON.parse(aiResponse.data.text);const aiTurn={speaker:'ai',text:aiData.text,data:aiData,round:currentRound,state:debateState,timestamp:new Date().toISOString()};setTurns(prev=>[...prev,aiTurn]);await speak(aiData.text);advanceDebatePhase();}catch(error){console.error('Recording or transcription failed:',error);alert('Recording or transcription failed. Please try again.');setCurrentSpeaker('user');}};const playRemoteAudio=(url,text)=>new Promise(resolve=>{clearWordAnimation();const audio=new Audio(\"\".concat(url,\"?v=\").concat(Date.now()));activeAudioRef.current=audio;audio.onloadedmetadata=()=>{const duration=(audio.duration||5)*1000*HIGHLIGHT_STRETCH;startWordAnimation(stripPauseTokens(text),duration);};audio.onerror=()=>{activeAudioRef.current=null;resolve();};audio.onended=()=>{activeAudioRef.current=null;resolve();};audio.play().catch(()=>{activeAudioRef.current=null;resolve();});});const speakWithBrowserTts=text=>new Promise(resolve=>{const cleanTimingText=stripPauseTokens(text);if(!text||!cleanTimingText){resolve();return;}if(!window.speechSynthesis){resolve();return;}window.speechSynthesis.cancel();clearWordAnimation();const vocalText=expandPauseTokensForSpeech(text);const utterance=new SpeechSynthesisUtterance(vocalText);utterance.rate=1.28;utterance.pitch=1.05;utterance.volume=0.9;const voices=window.speechSynthesis.getVoices();const preferredVoice=voices.find(voice=>voice.lang.startsWith('en'));if(preferredVoice){utterance.voice=preferredVoice;}utterance.onend=()=>{utteranceRef.current=null;resolve();};utterance.onerror=()=>{utteranceRef.current=null;resolve();};utteranceRef.current=utterance;const estimatedDuration=Math.max(cleanTimingText.split(' ').length*420,1400)*HIGHLIGHT_STRETCH;startWordAnimation(cleanTimingText,estimatedDuration);window.speechSynthesis.speak(utterance);});const speak=async payload=>{const speechText=typeof payload==='string'?payload:(payload===null||payload===void 0?void 0:payload.text)||'';if(!speechText){return;}setAiSpeaking(true);setCurrentSpeaker('ai');setCurrentWordIndex(0);try{const{data}=await axios.post(\"\".concat(API_BASE,\"/speak\"),{text:speechText});const playbackText=(data.textForSpeech||data.text||speechText).trim();if(data.type==='file'&&data.audioUrl){await playRemoteAudio(\"\".concat(API_BASE).concat(data.audioUrl),playbackText);}else{await speakWithBrowserTts(playbackText);}}catch(error){console.error('TTS failed:',error);await speakWithBrowserTts(speechText);}finally{clearWordAnimation();setAiSpeaking(false);setCurrentSpeaker('user');}};const renderAnimatedText=(text,isActive)=>{const clean=stripPauseTokens(text);if(!isActive||!isAnimating){return clean||text||'';}if(!clean)return'';const words=clean.split(' ');return words.map((word,index)=>/*#__PURE__*/_jsxs(\"span\",{className:index===currentWordIndex?'highlight':'word',children:[word,' ']},\"\".concat(word,\"-\").concat(index)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"AI Debate Partner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"setup-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Debate Motion\"}),/*#__PURE__*/_jsx(\"input\",{value:motion,onChange:e=>setMotion(e.target.value),placeholder:\"Enter your debate topic...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Your Side\"}),/*#__PURE__*/_jsxs(\"select\",{value:side,onChange:e=>setSide(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"auto\",children:\"Auto Assign Side\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pro\",children:\"Proposition\"}),/*#__PURE__*/_jsx(\"option\",{value:\"opp\",children:\"Opposition\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Speech Time Limit (minutes)\"}),/*#__PURE__*/_jsxs(\"select\",{value:timeLimit,onChange:e=>setTimeLimit(parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:3,children:\"3 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:7,children:\"7 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 minutes\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"start-button\",onClick:startDebate,children:\"Start Debate\"})]})]}),debateStarted&&/*#__PURE__*/_jsxs(\"div\",{className:\"debate-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Motion\"}),/*#__PURE__*/_jsx(\"p\",{children:motion})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Side\"}),/*#__PURE__*/_jsx(\"p\",{children:side==='auto'?assignedSide==='pro'?'Proposition':'Opposition':side==='pro'?'Proposition':'Opposition'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Speech Time Limit\"}),/*#__PURE__*/_jsxs(\"p\",{children:[timeLimit,\" minutes\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chat\",children:[turns.map((turn,i)=>{const isLatestAI=turn.speaker==='ai'&&i===turns.length-1;return/*#__PURE__*/_jsxs(\"div\",{className:\"turn \".concat(turn.speaker),children:[/*#__PURE__*/_jsx(\"div\",{className:\"speaker-indicator\",children:turn.speaker==='ai'?'AI':'You'}),/*#__PURE__*/_jsx(\"p\",{className:isLatestAI&&isAnimating?'animated-text':'',children:renderAnimatedText(turn.text,isLatestAI)}),turn.speaker==='user'&&turn.audioUrl&&/*#__PURE__*/_jsx(\"audio\",{controls:true,src:turn.audioUrl,\"aria-label\":\"Your recorded reply\"})]},\"\".concat(turn.speaker,\"-\").concat(i));}),aiSpeaking&&/*#__PURE__*/_jsx(\"div\",{className:\"ai-speaking\",children:\"AI is speaking...\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[currentSpeaker==='user'&&!aiSpeaking&&!debateStarted&&/*#__PURE__*/_jsx(\"div\",{className:\"instruction-message\",children:\"Press the \\\"Record Response\\\" button to start recording your speech.\"}),currentSpeaker==='user'&&!aiSpeaking&&debateStarted&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"turn-indicator\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Your Turn - \",debateState.charAt(0).toUpperCase()+debateState.slice(1),\" Speech\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Round \",currentRound,\" | Time Limit: \",timeLimit,\" minutes\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"record-button \".concat(recording?'recording':''),onClick:record,disabled:recording,children:recording?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Recording (\",Math.floor(recordingTime/60),\":\",(recordingTime%60).toString().padStart(2,'0'),\")\",/*#__PURE__*/_jsxs(\"div\",{className:\"audio-visualizer\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"audio-bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"audio-bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"audio-bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"audio-bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"audio-bar\"})]})]}):'Record Response'}),/*#__PURE__*/_jsx(\"button\",{className:\"stop-button\",onClick:stopRecord,disabled:!recording,children:\"Stop & Submit\"})]}),currentSpeaker==='ai'&&/*#__PURE__*/_jsx(\"div\",{className:\"waiting-message\",children:\"AI is preparing its response...\"}),aiSpeaking&&/*#__PURE__*/_jsx(\"div\",{className:\"waiting-message\",children:\"AI is speaking...\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","App","API_BASE","process","env","REACT_APP_API_BASE","motion","setMotion","side","setSide","timeLimit","setTimeLimit","turns","setTurns","recording","setRecording","audioBlob","setAudioBlob","aiSpeaking","setAiSpeaking","assignedSide","setAssignedSide","currentSpeaker","setCurrentSpeaker","debateStarted","setDebateStarted","recordingTime","setRecordingTime","currentWordIndex","setCurrentWordIndex","isAnimating","setIsAnimating","debateState","setDebateState","currentRound","setCurrentRound","recorderRef","timerRef","audioUrlsRef","activeAudioRef","utteranceRef","animationRef","HIGHLIGHT_STRETCH","stripPauseTokens","text","arguments","length","undefined","replace","trim","expandPauseTokensForSpeech","resetLocalSession","current","clearInterval","pause","window","speechSynthesis","cancel","forEach","url","URL","revokeObjectURL","advanceDebatePhase","prev","clearWordAnimation","startWordAnimation","durationMs","sanitized","words","split","filter","Boolean","interval","Math","max","index","setInterval","startDebate","alert","response","post","concat","data","aiText","aiData","JSON","parse","speaker","round","state","speak","error","_error$response","_error$response$data","console","message","record","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","mimeType","chunks","ondataavailable","event","size","push","onstop","getTracks","track","stop","blob","Blob","type","start","nextTime","stopRecord","recorder","processRecording","userBlob","fileName","Date","now","formData","FormData","append","headers","userText","transcript","objectUrl","createObjectURL","timestamp","toISOString","userTurn","audioUrl","aiResponse","aiTurn","playRemoteAudio","Promise","resolve","Audio","onloadedmetadata","duration","onerror","onended","play","catch","speakWithBrowserTts","cleanTimingText","vocalText","utterance","SpeechSynthesisUtterance","rate","pitch","volume","voices","getVoices","preferredVoice","find","voice","lang","startsWith","onend","estimatedDuration","payload","speechText","playbackText","textForSpeech","renderAnimatedText","isActive","clean","map","word","className","children","value","onChange","e","target","placeholder","parseInt","onClick","turn","i","isLatestAI","controls","src","charAt","toUpperCase","slice","disabled","floor","toString","padStart"],"sources":["C:/Users/DEEPAK AGARWAL/Downloads/Claude Code Trial/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\n\r\n  const [motion, setMotion] = useState('');\r\n  const [side, setSide] = useState('auto');\r\n  const [timeLimit, setTimeLimit] = useState(5); // in minutes\r\n  const [turns, setTurns] = useState([]);\r\n  const [recording, setRecording] = useState(false);\r\n  const [audioBlob, setAudioBlob] = useState(null);\r\n  const [aiSpeaking, setAiSpeaking] = useState(false);\r\n  const [assignedSide, setAssignedSide] = useState(null);\r\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\r\n  const [debateStarted, setDebateStarted] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  const [debateState, setDebateState] = useState('opening'); // opening, rebuttal, counterargument, closing\r\n  const [currentRound, setCurrentRound] = useState(1);\r\n\r\n  const recorderRef = useRef(null);\r\n  const timerRef = useRef(null);\r\n  const audioUrlsRef = useRef([]);\n  const activeAudioRef = useRef(null);\n  const utteranceRef = useRef(null);\n  const animationRef = useRef(null);\n\n  const HIGHLIGHT_STRETCH = 1.2;\n\n  const stripPauseTokens = (text = '') =>\n    text\n      .replace(/\\[\\[PAUSE_LONG\\]\\]/g, ' ')\n      .replace(/\\[\\[PAUSE_SHORT\\]\\]/g, ' ')\n      .replace(/\\s{2,}/g, ' ')\n      .trim();\n\n  const expandPauseTokensForSpeech = (text = '') =>\n    text\n      .replace(/\\[\\[PAUSE_LONG\\]\\]/g, '. . . ')\n      .replace(/\\[\\[PAUSE_SHORT\\]\\]/g, ', ')\n      .replace(/\\s{2,}/g, ' ')\n      .trim();\n\r\n  const resetLocalSession = () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n    if (activeAudioRef.current) {\r\n      activeAudioRef.current.pause();\r\n      activeAudioRef.current = null;\r\n    }\r\n    window.speechSynthesis.cancel();\r\n    audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\r\n    audioUrlsRef.current = [];\r\n    setTurns([]);\r\n    setRecording(false);\r\n    setRecordingTime(0);\r\n    setAiSpeaking(false);\r\n    setCurrentSpeaker(null);\r\n    setCurrentRound(1);\r\n    setDebateState('opening');\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n      if (activeAudioRef.current) {\r\n        activeAudioRef.current.pause();\r\n      }\r\n      window.speechSynthesis.cancel();\r\n      audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\r\n      audioUrlsRef.current = [];\r\n    };\r\n  }, []);\r\n\r\n  const advanceDebatePhase = () => {\r\n    setDebateState(prev => {\r\n      switch (prev) {\r\n        case 'opening':\r\n          return 'rebuttal';\r\n        case 'rebuttal':\r\n          return 'counterargument';\r\n        case 'counterargument':\r\n          return 'closing';\r\n        default:\r\n          return 'closing';\r\n      }\r\n    });\r\n    setCurrentRound(prev => prev + 1);\r\n  };\r\n\r\n  const clearWordAnimation = () => {\r\n    if (animationRef.current) {\r\n      clearInterval(animationRef.current);\r\n      animationRef.current = null;\r\n    }\r\n    setIsAnimating(false);\r\n    setCurrentWordIndex(0);\r\n  };\r\n\r\n  const startWordAnimation = (text, durationMs = 4000) => {\n    clearWordAnimation();\n    const sanitized = stripPauseTokens(text);\n    const words = sanitized.split(' ').filter(Boolean);\n    if (!words.length) {\n      return;\n    }\n    setIsAnimating(true);\r\n    setCurrentWordIndex(0);\r\n    const interval = Math.max(durationMs / words.length, 80);\r\n    let index = 0;\r\n    animationRef.current = setInterval(() => {\r\n      index += 1;\r\n      setCurrentWordIndex(current => (index < words.length ? index : current));\r\n      if (index >= words.length) {\r\n        clearWordAnimation();\r\n      }\r\n    }, interval);\r\n  };\r\n\r\n  const startDebate = async () => {\r\n    if (!motion.trim()) {\r\n      alert('Please enter a debate motion before starting.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      resetLocalSession();\r\n      const response = await axios.post(`${API_BASE}/start`, { motion: motion.trim(), side, timeLimit });\r\n      setAssignedSide(response.data.assignedSide);\r\n      setDebateStarted(true);\r\n      setDebateState('opening');\r\n      setCurrentRound(1);\r\n\r\n      if (response.data.aiText) {\r\n        const aiData = JSON.parse(response.data.aiText);\r\n        setTurns([{ speaker: 'ai', text: aiData.text, data: aiData, round: 1, state: 'opening' }]);\r\n        setCurrentSpeaker('ai');\r\n        await speak(aiData.text);\r\n      } else {\r\n        setCurrentSpeaker('user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Start debate error:', error);\r\n      alert('Failed to start debate: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const record = async () => {\n    if (recording || aiSpeaking || currentSpeaker !== 'user') {\n      return;\n    }\n\n    if (activeAudioRef.current) {\n      activeAudioRef.current.pause();\n      activeAudioRef.current = null;\n    }\n    window.speechSynthesis.cancel();\n    clearWordAnimation();\n    setAiSpeaking(false);\n\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      const mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/webm' });\r\n      recorderRef.current = mediaRecorder;\r\n      const chunks = [];\r\n\r\n      mediaRecorder.ondataavailable = event => {\r\n        if (event.data && event.data.size > 0) {\r\n          chunks.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        stream.getTracks().forEach(track => track.stop());\r\n        if (timerRef.current) {\r\n          clearInterval(timerRef.current);\r\n          timerRef.current = null;\r\n        }\r\n        setRecording(false);\r\n        setRecordingTime(0);\r\n        recorderRef.current = null;\r\n        if (chunks.length > 0) {\r\n          const blob = new Blob(chunks, { type: 'audio/webm' });\r\n          setAudioBlob(blob);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.start();\n      setRecording(true);\r\n      setRecordingTime(0);\r\n\r\n      timerRef.current = setInterval(() => {\r\n        setRecordingTime(prev => {\r\n          const nextTime = prev + 1;\r\n          if (nextTime >= timeLimit * 60) {\r\n            stopRecord();\r\n            alert('Time limit reached! Recording stopped.');\r\n            return prev;\r\n          }\r\n          return nextTime;\r\n        });\r\n      }, 1000);\r\n    } catch (error) {\r\n      console.error('Microphone access error:', error);\r\n      alert('Could not access microphone. Please allow microphone permissions and try again.');\n    }\n  };\n\n  const stopRecord = () => {\n    const recorder = recorderRef.current;\n    if (!recorder || recorder.state === 'inactive') {\n      return;\n    }\n    recorder.stop();\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!audioBlob) {\n      return;\n    }\n    processRecording(audioBlob);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [audioBlob]);\n\n  const processRecording = async blob => {\n    const userBlob = blob;\n    setAudioBlob(null);\n    setCurrentSpeaker('ai');\n\n    try {\n      const fileName = `user-turn-${Date.now()}.webm`;\n      const formData = new FormData();\n      formData.append('file', userBlob, fileName);\n      const { data } = await axios.post(`${API_BASE}/transcribe`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      const userText = (data.transcript || '').trim() || '[No speech detected]';\n      const objectUrl = URL.createObjectURL(userBlob);\n      audioUrlsRef.current.push(objectUrl);\n\n      const timestamp = new Date().toISOString();\n      const userTurn = {\n        speaker: 'user',\n        text: userText,\n        audioUrl: objectUrl,\n        round: currentRound,\n        state: debateState,\n        timestamp\n      };\n\n      setTurns(prev => [...prev, userTurn]);\n\n      const aiResponse = await axios.post(`${API_BASE}/reply`, {\n        userText,\n        round: currentRound,\n        state: debateState,\n        transcript: userText\n      });\n\n      const aiData = JSON.parse(aiResponse.data.text);\n      const aiTurn = {\n        speaker: 'ai',\n        text: aiData.text,\n        data: aiData,\n        round: currentRound,\n        state: debateState,\n        timestamp: new Date().toISOString()\n      };\n      setTurns(prev => [...prev, aiTurn]);\n      await speak(aiData.text);\n      advanceDebatePhase();\n    } catch (error) {\n      console.error('Recording or transcription failed:', error);\n      alert('Recording or transcription failed. Please try again.');\n      setCurrentSpeaker('user');\n    }\n  };\n\r\n  const playRemoteAudio = (url, text) =>\n    new Promise(resolve => {\n      clearWordAnimation();\n      const audio = new Audio(`${url}?v=${Date.now()}`);\n      activeAudioRef.current = audio;\n\n      audio.onloadedmetadata = () => {\n        const duration = (audio.duration || 5) * 1000 * HIGHLIGHT_STRETCH;\n        startWordAnimation(stripPauseTokens(text), duration);\n      };\n\r\n      audio.onerror = () => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      };\r\n\r\n      audio.onended = () => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      };\r\n\r\n      audio.play().catch(() => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      });\r\n    });\r\n\r\n  const speakWithBrowserTts = text =>\n    new Promise(resolve => {\n      const cleanTimingText = stripPauseTokens(text);\n      if (!text || !cleanTimingText) {\n        resolve();\n        return;\n      }\n      if (!window.speechSynthesis) {\n        resolve();\n        return;\n      }\n      window.speechSynthesis.cancel();\n      clearWordAnimation();\n      const vocalText = expandPauseTokensForSpeech(text);\n      const utterance = new SpeechSynthesisUtterance(vocalText);\n      utterance.rate = 1.28;\n      utterance.pitch = 1.05;\n      utterance.volume = 0.9;\n      const voices = window.speechSynthesis.getVoices();\n      const preferredVoice = voices.find(voice => voice.lang.startsWith('en'));\n      if (preferredVoice) {\n        utterance.voice = preferredVoice;\n      }\r\n      utterance.onend = () => {\r\n        utteranceRef.current = null;\r\n        resolve();\r\n      };\r\n      utterance.onerror = () => {\n        utteranceRef.current = null;\n        resolve();\n      };\n      utteranceRef.current = utterance;\n      const estimatedDuration = Math.max(cleanTimingText.split(' ').length * 420, 1400) * HIGHLIGHT_STRETCH;\n      startWordAnimation(cleanTimingText, estimatedDuration);\n      window.speechSynthesis.speak(utterance);\n    });\n\r\n  const speak = async payload => {\r\n    const speechText = typeof payload === 'string' ? payload : payload?.text || '';\r\n    if (!speechText) {\r\n      return;\r\n    }\r\n\r\n    setAiSpeaking(true);\r\n    setCurrentSpeaker('ai');\r\n    setCurrentWordIndex(0);\r\n\r\n    try {\r\n      const { data } = await axios.post(`${API_BASE}/speak`, { text: speechText });\r\n      const playbackText = (data.textForSpeech || data.text || speechText).trim();\n      if (data.type === 'file' && data.audioUrl) {\n        await playRemoteAudio(`${API_BASE}${data.audioUrl}`, playbackText);\n      } else {\n        await speakWithBrowserTts(playbackText);\n      }\n    } catch (error) {\r\n      console.error('TTS failed:', error);\r\n      await speakWithBrowserTts(speechText);\r\n    } finally {\r\n      clearWordAnimation();\r\n      setAiSpeaking(false);\r\n      setCurrentSpeaker('user');\r\n    }\r\n  };\r\n\r\n  const renderAnimatedText = (text, isActive) => {\n    const clean = stripPauseTokens(text);\n    if (!isActive || !isAnimating) {\n      return clean || text || '';\n    }\n    if (!clean) return '';\n    const words = clean.split(' ');\n    return words.map((word, index) => (\n      <span\n        key={`${word}-${index}`}\n        className={index === currentWordIndex ? 'highlight' : 'word'}\n      >\n        {word}{' '}\n      </span>\n    ));\n  };\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"header\">\r\n        <h1>AI Debate Partner</h1>\r\n        <div className=\"setup-panel\">\r\n          <div className=\"form-group\">\r\n            <label>Debate Motion</label>\r\n            <input\r\n              value={motion}\r\n              onChange={e => setMotion(e.target.value)}\r\n              placeholder=\"Enter your debate topic...\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Your Side</label>\r\n            <select value={side} onChange={e => setSide(e.target.value)}>\r\n              <option value=\"auto\">Auto Assign Side</option>\r\n              <option value=\"pro\">Proposition</option>\r\n              <option value=\"opp\">Opposition</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Speech Time Limit (minutes)</label>\r\n            <select value={timeLimit} onChange={e => setTimeLimit(parseInt(e.target.value))}>\r\n              <option value={3}>3 minutes</option>\r\n              <option value={5}>5 minutes</option>\r\n              <option value={7}>7 minutes</option>\r\n              <option value={10}>10 minutes</option>\r\n            </select>\r\n          </div>\r\n          <button className=\"start-button\" onClick={startDebate}>Start Debate</button>\r\n        </div>\r\n      </div>\r\n\r\n      {debateStarted && (\r\n        <div className=\"debate-info\">\r\n          <div className=\"info-item\">\r\n            <h3>Motion</h3>\r\n            <p>{motion}</p>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <h3>Your Side</h3>\r\n            <p>{side === 'auto' ? (assignedSide === 'pro' ? 'Proposition' : 'Opposition') : side === 'pro' ? 'Proposition' : 'Opposition'}</p>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <h3>Speech Time Limit</h3>\r\n            <p>{timeLimit} minutes</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n\r\n      <div className=\"chat-container\">\r\n        <div className=\"chat\">\r\n          {turns.map((turn, i) => {\r\n            const isLatestAI = turn.speaker === 'ai' && i === turns.length - 1;\r\n            return (\r\n              <div key={`${turn.speaker}-${i}`} className={`turn ${turn.speaker}`}>\r\n                <div className=\"speaker-indicator\">\r\n                  {turn.speaker === 'ai' ? 'AI' : 'You'}\r\n                </div>\r\n                <p className={isLatestAI && isAnimating ? 'animated-text' : ''}>\n                  {renderAnimatedText(turn.text, isLatestAI)}\n                </p>\r\n                {turn.speaker === 'user' && turn.audioUrl && (\n                  <audio controls src={turn.audioUrl} aria-label=\"Your recorded reply\" />\n                )}\n              </div>\r\n            );\r\n          })}\r\n          {aiSpeaking && <div className=\"ai-speaking\">AI is speaking...</div>}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"controls\">\r\n        {currentSpeaker === 'user' && !aiSpeaking && !debateStarted && (\r\n          <div className=\"instruction-message\">\r\n            Press the \"Record Response\" button to start recording your speech.\r\n          </div>\r\n        )}\r\n        {currentSpeaker === 'user' && !aiSpeaking && debateStarted && (\r\n          <>\r\n            <div className=\"turn-indicator\">\r\n              <h3>Your Turn - {debateState.charAt(0).toUpperCase() + debateState.slice(1)} Speech</h3>\r\n              <p>Round {currentRound} | Time Limit: {timeLimit} minutes</p>\r\n            </div>\r\n            <button\r\n              className={`record-button ${recording ? 'recording' : ''}`}\r\n              onClick={record}\r\n              disabled={recording}\r\n            >\r\n              {recording ? (\r\n                <>\r\n                  Recording ({Math.floor(recordingTime / 60)}:{(recordingTime % 60).toString().padStart(2, '0')})\r\n                  <div className=\"audio-visualizer\" aria-hidden=\"true\">\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                'Record Response'\r\n              )}\r\n            </button>\r\n            <button className=\"stop-button\" onClick={stopRecord} disabled={!recording}>\r\n              Stop &amp; Submit\r\n            </button>\r\n          </>\r\n        )}\r\n        {currentSpeaker === 'ai' && <div className=\"waiting-message\">AI is preparing its response...</div>}\r\n        {aiSpeaking && <div className=\"waiting-message\">AI is speaking...</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}