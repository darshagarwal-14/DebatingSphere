{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DEEPAK AGARWAL\\\\Downloads\\\\Claude Code Trial\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\n  const LEVEL_OPTIONS = [{\n    id: 'beginner',\n    label: 'Beginner (Learning)'\n  }, {\n    id: 'intermediate',\n    label: 'Intermediate'\n  }, {\n    id: 'advanced',\n    label: 'Advanced'\n  }, {\n    id: 'professional',\n    label: 'Professional'\n  }];\n  const LEVEL_DESCRIPTIONS = {\n    beginner: 'Friendly, explanatory tone with speech cues.',\n    intermediate: 'Balanced detail with targeted rebuttals.',\n    advanced: 'Sophisticated nuance and deeper weighing.',\n    professional: 'Tournament-ready precision and impact.'\n  };\n  const [motion, setMotion] = useState('');\n  const [side, setSide] = useState('auto');\n  const [timeLimit, setTimeLimit] = useState(5); // in minutes\n  const [skillLevel, setSkillLevel] = useState('professional');\n  const [turns, setTurns] = useState([]);\n  const [recording, setRecording] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [aiSpeaking, setAiSpeaking] = useState(false);\n  const [assignedSide, setAssignedSide] = useState(null);\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\n  const [debateStarted, setDebateStarted] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [debateState, setDebateState] = useState('opening'); // opening, rebuttal, counterargument, closing\n  const [currentRound, setCurrentRound] = useState(1);\n  const [ttsWarning, setTtsWarning] = useState('');\n  const recorderRef = useRef(null);\n  const timerRef = useRef(null);\n  const audioUrlsRef = useRef([]);\n  const activeAudioRef = useRef(null);\n  const utteranceRef = useRef(null);\n  const animationRef = useRef(null);\n  const speechIdRef = useRef(0);\n  const HIGHLIGHT_STRETCH = 0.9;\n  const stripPauseTokens = (text = '') => text.replace(/\\[\\[PAUSE_LONG\\]\\]/g, ' ').replace(/\\[\\[PAUSE_SHORT\\]\\]/g, ' ').replace(/\\s{2,}/g, ' ').trim();\n  const expandPauseTokensForSpeech = (text = '') => text.replace(/\\[\\[PAUSE_LONG\\]\\]/g, '. . . ').replace(/\\[\\[PAUSE_SHORT\\]\\]/g, ', ').replace(/\\s{2,}/g, ' ').trim();\n  const resetLocalSession = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    if (activeAudioRef.current) {\n      activeAudioRef.current.pause();\n      activeAudioRef.current = null;\n    }\n    window.speechSynthesis.cancel();\n    audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\n    audioUrlsRef.current = [];\n    setTurns([]);\n    setRecording(false);\n    setRecordingTime(0);\n    setAiSpeaking(false);\n    setCurrentSpeaker(null);\n    setCurrentRound(1);\n    setDebateState('opening');\n  };\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n      if (activeAudioRef.current) {\n        activeAudioRef.current.pause();\n      }\n      window.speechSynthesis.cancel();\n      audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\n      audioUrlsRef.current = [];\n    };\n  }, []);\n  const advanceDebatePhase = () => {\n    setDebateState(prev => {\n      switch (prev) {\n        case 'opening':\n          return 'rebuttal';\n        case 'rebuttal':\n          return 'counterargument';\n        case 'counterargument':\n          return 'closing';\n        default:\n          return 'closing';\n      }\n    });\n    setCurrentRound(prev => prev + 1);\n  };\n  const clearWordAnimation = () => {\n    if (animationRef.current) {\n      clearInterval(animationRef.current);\n      animationRef.current = null;\n    }\n    setIsAnimating(false);\n    setCurrentWordIndex(0);\n  };\n  const startWordAnimation = (text, durationMs = 4000) => {\n    clearWordAnimation();\n    const sanitized = stripPauseTokens(text);\n    const words = sanitized.split(' ').filter(Boolean);\n    if (!words.length) {\n      return;\n    }\n    setIsAnimating(true);\n    setCurrentWordIndex(0);\n    const interval = Math.max(durationMs / words.length * HIGHLIGHT_STRETCH, 60);\n    let index = 0;\n    animationRef.current = setInterval(() => {\n      index += 1;\n      setCurrentWordIndex(current => index < words.length ? index : current);\n      if (index >= words.length) {\n        clearWordAnimation();\n      }\n    }, interval);\n  };\n  const startDebate = async () => {\n    if (!motion.trim()) {\n      alert('Please enter a debate motion before starting.');\n      return;\n    }\n    try {\n      resetLocalSession();\n      const response = await axios.post(`${API_BASE}/start`, {\n        motion: motion.trim(),\n        side,\n        timeLimit,\n        skillLevel\n      });\n      setAssignedSide(response.data.assignedSide);\n      setDebateStarted(true);\n      setDebateState('opening');\n      setCurrentRound(1);\n      if (response.data.aiText) {\n        const aiData = JSON.parse(response.data.aiText);\n        setTurns([{\n          speaker: 'ai',\n          text: aiData.text,\n          data: aiData,\n          round: 1,\n          state: 'opening'\n        }]);\n        setCurrentSpeaker('ai');\n        await speak(aiData.text);\n      } else {\n        setCurrentSpeaker('user');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Start debate error:', error);\n      alert('Failed to start debate: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message));\n    }\n  };\n  const record = async () => {\n    if (recording || aiSpeaking || currentSpeaker !== 'user') {\n      return;\n    }\n    if (activeAudioRef.current) {\n      activeAudioRef.current.pause();\n      activeAudioRef.current = null;\n    }\n    window.speechSynthesis.cancel();\n    clearWordAnimation();\n    setAiSpeaking(false);\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm'\n      });\n      recorderRef.current = mediaRecorder;\n      const chunks = [];\n      mediaRecorder.ondataavailable = event => {\n        if (event.data && event.data.size > 0) {\n          chunks.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        stream.getTracks().forEach(track => track.stop());\n        if (timerRef.current) {\n          clearInterval(timerRef.current);\n          timerRef.current = null;\n        }\n        setRecording(false);\n        setRecordingTime(0);\n        recorderRef.current = null;\n        if (chunks.length > 0) {\n          const blob = new Blob(chunks, {\n            type: 'audio/webm'\n          });\n          setAudioBlob(blob);\n        }\n      };\n      mediaRecorder.start();\n      setRecording(true);\n      setRecordingTime(0);\n      timerRef.current = setInterval(() => {\n        setRecordingTime(prev => {\n          const nextTime = prev + 1;\n          if (nextTime >= timeLimit * 60) {\n            stopRecord();\n            alert('Time limit reached! Recording stopped.');\n            return prev;\n          }\n          return nextTime;\n        });\n      }, 1000);\n    } catch (error) {\n      console.error('Microphone access error:', error);\n      alert('Could not access microphone. Please allow microphone permissions and try again.');\n    }\n  };\n  const stopRecord = () => {\n    const recorder = recorderRef.current;\n    if (!recorder || recorder.state === 'inactive') {\n      return;\n    }\n    recorder.stop();\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n  useEffect(() => {\n    if (!audioBlob) {\n      return;\n    }\n    processRecording(audioBlob);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [audioBlob]);\n  const processRecording = async blob => {\n    const userBlob = blob;\n    setAudioBlob(null);\n    setCurrentSpeaker('ai');\n    try {\n      const fileName = `user-turn-${Date.now()}.webm`;\n      const formData = new FormData();\n      formData.append('file', userBlob, fileName);\n      const {\n        data\n      } = await axios.post(`${API_BASE}/transcribe`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const userText = (data.transcript || '').trim() || '[No speech detected]';\n      const objectUrl = URL.createObjectURL(userBlob);\n      audioUrlsRef.current.push(objectUrl);\n      const timestamp = new Date().toISOString();\n      const userTurn = {\n        speaker: 'user',\n        text: userText,\n        audioUrl: objectUrl,\n        round: currentRound,\n        state: debateState,\n        timestamp\n      };\n      setTurns(prev => [...prev, userTurn]);\n      const aiResponse = await axios.post(`${API_BASE}/reply`, {\n        userText,\n        round: currentRound,\n        state: debateState,\n        transcript: userText,\n        skillLevel\n      });\n      const aiData = JSON.parse(aiResponse.data.text);\n      const aiTurn = {\n        speaker: 'ai',\n        text: aiData.text,\n        data: aiData,\n        round: currentRound,\n        state: debateState,\n        timestamp: new Date().toISOString()\n      };\n      setTurns(prev => [...prev, aiTurn]);\n      await speak(aiData.text);\n      advanceDebatePhase();\n    } catch (error) {\n      console.error('Recording or transcription failed:', error);\n      alert('Recording or transcription failed. Please try again.');\n      setCurrentSpeaker('user');\n    }\n  };\n  const playRemoteAudio = (url, text) => new Promise(resolve => {\n    clearWordAnimation();\n    const audio = new Audio(`${url}?v=${Date.now()}`);\n    activeAudioRef.current = audio;\n    audio.onloadedmetadata = () => {\n      const duration = (audio.duration || 5) * 1000 * HIGHLIGHT_STRETCH;\n      startWordAnimation(stripPauseTokens(text), duration);\n    };\n    audio.onerror = () => {\n      activeAudioRef.current = null;\n      resolve();\n    };\n    audio.onended = () => {\n      activeAudioRef.current = null;\n      resolve();\n    };\n    audio.play().catch(() => {\n      activeAudioRef.current = null;\n      resolve();\n    });\n  });\n  const speakWithBrowserTts = text => new Promise(resolve => {\n    const cleanTimingText = stripPauseTokens(text);\n    if (!text || !cleanTimingText) {\n      resolve();\n      return;\n    }\n    if (!window.speechSynthesis) {\n      resolve();\n      return;\n    }\n    window.speechSynthesis.cancel();\n    clearWordAnimation();\n    const vocalText = expandPauseTokensForSpeech(text);\n    const utterance = new SpeechSynthesisUtterance(vocalText);\n    utterance.rate = 1.5;\n    utterance.pitch = 1.08;\n    utterance.volume = 0.9;\n    const voices = window.speechSynthesis.getVoices();\n    const preferredVoice = voices.find(voice => voice.lang.startsWith('en'));\n    if (preferredVoice) {\n      utterance.voice = preferredVoice;\n    }\n    utterance.onend = () => {\n      utteranceRef.current = null;\n      resolve();\n    };\n    utterance.onerror = () => {\n      utteranceRef.current = null;\n      resolve();\n    };\n    utteranceRef.current = utterance;\n    const estimatedDuration = Math.max(cleanTimingText.split(' ').length * 420, 1400) * HIGHLIGHT_STRETCH;\n    startWordAnimation(cleanTimingText, estimatedDuration);\n    window.speechSynthesis.speak(utterance);\n  });\n  const speak = async payload => {\n    if (aiSpeaking) {\n      return;\n    }\n    const speechText = typeof payload === 'string' ? payload : (payload === null || payload === void 0 ? void 0 : payload.text) || '';\n    if (!speechText) {\n      return;\n    }\n    if (activeAudioRef.current) {\n      activeAudioRef.current.pause();\n      activeAudioRef.current = null;\n    }\n    window.speechSynthesis.cancel();\n    clearWordAnimation();\n    setAiSpeaking(true);\n    setCurrentSpeaker('ai');\n    setCurrentWordIndex(0);\n    setTtsWarning('');\n    const speechToken = ++speechIdRef.current;\n    try {\n      const {\n        data\n      } = await axios.post(`${API_BASE}/speak`, {\n        text: speechText\n      });\n      const playbackText = (data.textForSpeech || data.text || speechText).trim();\n      setTtsWarning(data.warning || '');\n      if (data.type === 'file' && data.audioUrl) {\n        await playRemoteAudio(`${API_BASE}${data.audioUrl}`, playbackText);\n      } else {\n        await speakWithBrowserTts(playbackText);\n      }\n    } catch (error) {\n      console.error('TTS failed:', error);\n      setTtsWarning('');\n      await speakWithBrowserTts(speechText);\n    } finally {\n      if (speechIdRef.current === speechToken) {\n        clearWordAnimation();\n        setAiSpeaking(false);\n        setCurrentSpeaker('user');\n      }\n    }\n  };\n  const renderAnimatedText = (text, isActive) => {\n    const clean = stripPauseTokens(text);\n    if (!isActive || !isAnimating) {\n      return clean || text || '';\n    }\n    if (!clean) return '';\n    const words = clean.split(' ');\n    return words.map((word, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n      className: index === currentWordIndex ? 'highlight' : 'word',\n      children: [word, ' ']\n    }, `${word}-${index}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"AI Debate Partner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), ttsWarning && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tts-warning\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: ttsWarning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Debate Motion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: motion,\n            onChange: e => setMotion(e.target.value),\n            placeholder: \"Enter your debate topic...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Your Side\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: side,\n            onChange: e => setSide(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"auto\",\n              children: \"Auto Assign Side\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pro\",\n              children: \"Proposition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"opp\",\n              children: \"Opposition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Speech Time Limit (minutes)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: timeLimit,\n            onChange: e => setTimeLimit(parseInt(e.target.value)),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 3,\n              children: \"3 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              children: \"5 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 7,\n              children: \"7 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10,\n              children: \"10 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"AI Skill Level\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: skillLevel,\n            onChange: e => setSkillLevel(e.target.value),\n            children: LEVEL_OPTIONS.map(level => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: level.id,\n              children: level.label\n            }, level.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"level-description\",\n            children: LEVEL_DESCRIPTIONS[skillLevel]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"start-button\",\n          onClick: startDebate,\n          children: \"Start Debate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), debateStarted && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debate-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Motion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: motion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Side\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: side === 'auto' ? assignedSide === 'pro' ? 'Proposition' : 'Opposition' : side === 'pro' ? 'Proposition' : 'Opposition'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Speech Time Limit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [timeLimit, \" minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat\",\n        children: [turns.map((turn, i) => {\n          const isLatestAI = turn.speaker === 'ai' && i === turns.length - 1;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `turn ${turn.speaker}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"speaker-indicator\",\n              children: turn.speaker === 'ai' ? 'AI' : 'You'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: isLatestAI && isAnimating ? 'animated-text' : '',\n              children: renderAnimatedText(turn.text, isLatestAI)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this), turn.speaker === 'user' && turn.audioUrl && /*#__PURE__*/_jsxDEV(\"audio\", {\n              controls: true,\n              src: turn.audioUrl,\n              \"aria-label\": \"Your recorded reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this)]\n          }, `${turn.speaker}-${i}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this);\n        }), aiSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-speaking\",\n          children: \"AI is speaking...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [currentSpeaker === 'user' && !aiSpeaking && !debateStarted && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"instruction-message\",\n        children: \"Press the \\\"Record Response\\\" button to start recording your speech.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 11\n      }, this), currentSpeaker === 'user' && !aiSpeaking && debateStarted && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"turn-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Your Turn - \", debateState.charAt(0).toUpperCase() + debateState.slice(1), \" Speech\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Round \", currentRound, \" | Time Limit: \", timeLimit, \" minutes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `record-button ${recording ? 'recording' : ''}`,\n          onClick: record,\n          disabled: recording,\n          children: recording ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Recording (\", Math.floor(recordingTime / 60), \":\", (recordingTime % 60).toString().padStart(2, '0'), \")\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"audio-visualizer\",\n              \"aria-hidden\": \"true\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"audio-bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : 'Record Response'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"stop-button\",\n          onClick: stopRecord,\n          disabled: !recording,\n          children: \"Stop & Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), currentSpeaker === 'ai' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"waiting-message\",\n        children: \"AI is preparing its response...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 37\n      }, this), aiSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"waiting-message\",\n        children: \"AI is speaking...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 440,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"QkCpbaFqdecD+KyIddA/+k7mZYA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","API_BASE","process","env","REACT_APP_API_BASE","LEVEL_OPTIONS","id","label","LEVEL_DESCRIPTIONS","beginner","intermediate","advanced","professional","motion","setMotion","side","setSide","timeLimit","setTimeLimit","skillLevel","setSkillLevel","turns","setTurns","recording","setRecording","audioBlob","setAudioBlob","aiSpeaking","setAiSpeaking","assignedSide","setAssignedSide","currentSpeaker","setCurrentSpeaker","debateStarted","setDebateStarted","recordingTime","setRecordingTime","currentWordIndex","setCurrentWordIndex","isAnimating","setIsAnimating","debateState","setDebateState","currentRound","setCurrentRound","ttsWarning","setTtsWarning","recorderRef","timerRef","audioUrlsRef","activeAudioRef","utteranceRef","animationRef","speechIdRef","HIGHLIGHT_STRETCH","stripPauseTokens","text","replace","trim","expandPauseTokensForSpeech","resetLocalSession","current","clearInterval","pause","window","speechSynthesis","cancel","forEach","url","URL","revokeObjectURL","advanceDebatePhase","prev","clearWordAnimation","startWordAnimation","durationMs","sanitized","words","split","filter","Boolean","length","interval","Math","max","index","setInterval","startDebate","alert","response","post","data","aiText","aiData","JSON","parse","speaker","round","state","speak","error","_error$response","_error$response$data","console","message","record","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","mimeType","chunks","ondataavailable","event","size","push","onstop","getTracks","track","stop","blob","Blob","type","start","nextTime","stopRecord","recorder","processRecording","userBlob","fileName","Date","now","formData","FormData","append","headers","userText","transcript","objectUrl","createObjectURL","timestamp","toISOString","userTurn","audioUrl","aiResponse","aiTurn","playRemoteAudio","Promise","resolve","Audio","onloadedmetadata","duration","onerror","onended","play","catch","speakWithBrowserTts","cleanTimingText","vocalText","utterance","SpeechSynthesisUtterance","rate","pitch","volume","voices","getVoices","preferredVoice","find","voice","lang","startsWith","onend","estimatedDuration","payload","speechText","speechToken","playbackText","textForSpeech","warning","renderAnimatedText","isActive","clean","map","word","className","children","_jsxFileName","lineNumber","columnNumber","role","value","onChange","e","target","placeholder","parseInt","level","onClick","turn","i","isLatestAI","controls","src","charAt","toUpperCase","slice","disabled","floor","toString","padStart","_c","$RefreshReg$"],"sources":["C:/Users/DEEPAK AGARWAL/Downloads/Claude Code Trial/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\n  const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:3001';\n\n  const LEVEL_OPTIONS = [\n    { id: 'beginner', label: 'Beginner (Learning)' },\n    { id: 'intermediate', label: 'Intermediate' },\n    { id: 'advanced', label: 'Advanced' },\n    { id: 'professional', label: 'Professional' }\n  ];\n\n  const LEVEL_DESCRIPTIONS = {\n    beginner: 'Friendly, explanatory tone with speech cues.',\n    intermediate: 'Balanced detail with targeted rebuttals.',\n    advanced: 'Sophisticated nuance and deeper weighing.',\n    professional: 'Tournament-ready precision and impact.'\n  };\n\n  const [motion, setMotion] = useState('');\n  const [side, setSide] = useState('auto');\n  const [timeLimit, setTimeLimit] = useState(5); // in minutes\n  const [skillLevel, setSkillLevel] = useState('professional');\n  const [turns, setTurns] = useState([]);\n  const [recording, setRecording] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [aiSpeaking, setAiSpeaking] = useState(false);\n  const [assignedSide, setAssignedSide] = useState(null);\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\n  const [debateStarted, setDebateStarted] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [debateState, setDebateState] = useState('opening'); // opening, rebuttal, counterargument, closing\n  const [currentRound, setCurrentRound] = useState(1);\n  const [ttsWarning, setTtsWarning] = useState('');\n\r\n  const recorderRef = useRef(null);\n  const timerRef = useRef(null);\n  const audioUrlsRef = useRef([]);\n  const activeAudioRef = useRef(null);\n  const utteranceRef = useRef(null);\n  const animationRef = useRef(null);\n  const speechIdRef = useRef(0);\n\r\n  const HIGHLIGHT_STRETCH = 0.9;\n\n  const stripPauseTokens = (text = '') =>\n    text\r\n      .replace(/\\[\\[PAUSE_LONG\\]\\]/g, ' ')\r\n      .replace(/\\[\\[PAUSE_SHORT\\]\\]/g, ' ')\r\n      .replace(/\\s{2,}/g, ' ')\r\n      .trim();\r\n\r\n  const expandPauseTokensForSpeech = (text = '') =>\r\n    text\r\n      .replace(/\\[\\[PAUSE_LONG\\]\\]/g, '. . . ')\r\n      .replace(/\\[\\[PAUSE_SHORT\\]\\]/g, ', ')\r\n      .replace(/\\s{2,}/g, ' ')\r\n      .trim();\r\n\r\n  const resetLocalSession = () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n    if (activeAudioRef.current) {\r\n      activeAudioRef.current.pause();\r\n      activeAudioRef.current = null;\r\n    }\r\n    window.speechSynthesis.cancel();\r\n    audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\r\n    audioUrlsRef.current = [];\r\n    setTurns([]);\r\n    setRecording(false);\r\n    setRecordingTime(0);\r\n    setAiSpeaking(false);\r\n    setCurrentSpeaker(null);\r\n    setCurrentRound(1);\r\n    setDebateState('opening');\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n      if (activeAudioRef.current) {\r\n        activeAudioRef.current.pause();\r\n      }\r\n      window.speechSynthesis.cancel();\r\n      audioUrlsRef.current.forEach(url => URL.revokeObjectURL(url));\r\n      audioUrlsRef.current = [];\r\n    };\r\n  }, []);\r\n\r\n  const advanceDebatePhase = () => {\r\n    setDebateState(prev => {\r\n      switch (prev) {\r\n        case 'opening':\r\n          return 'rebuttal';\r\n        case 'rebuttal':\r\n          return 'counterargument';\r\n        case 'counterargument':\r\n          return 'closing';\r\n        default:\r\n          return 'closing';\r\n      }\r\n    });\r\n    setCurrentRound(prev => prev + 1);\r\n  };\r\n\r\n  const clearWordAnimation = () => {\r\n    if (animationRef.current) {\r\n      clearInterval(animationRef.current);\r\n      animationRef.current = null;\r\n    }\r\n    setIsAnimating(false);\r\n    setCurrentWordIndex(0);\r\n  };\r\n\r\n  const startWordAnimation = (text, durationMs = 4000) => {\r\n    clearWordAnimation();\r\n    const sanitized = stripPauseTokens(text);\r\n    const words = sanitized.split(' ').filter(Boolean);\r\n    if (!words.length) {\r\n      return;\r\n    }\r\n    setIsAnimating(true);\r\n    setCurrentWordIndex(0);\r\n    const interval = Math.max((durationMs / words.length) * HIGHLIGHT_STRETCH, 60);\n    let index = 0;\r\n    animationRef.current = setInterval(() => {\r\n      index += 1;\r\n      setCurrentWordIndex(current => (index < words.length ? index : current));\r\n      if (index >= words.length) {\r\n        clearWordAnimation();\r\n      }\r\n    }, interval);\r\n  };\r\n\r\n  const startDebate = async () => {\r\n    if (!motion.trim()) {\r\n      alert('Please enter a debate motion before starting.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      resetLocalSession();\r\n      const response = await axios.post(`${API_BASE}/start`, {\n        motion: motion.trim(),\n        side,\n        timeLimit,\n        skillLevel\n      });\n      setAssignedSide(response.data.assignedSide);\r\n      setDebateStarted(true);\r\n      setDebateState('opening');\r\n      setCurrentRound(1);\r\n\r\n      if (response.data.aiText) {\r\n        const aiData = JSON.parse(response.data.aiText);\r\n        setTurns([{ speaker: 'ai', text: aiData.text, data: aiData, round: 1, state: 'opening' }]);\r\n        setCurrentSpeaker('ai');\r\n        await speak(aiData.text);\r\n      } else {\r\n        setCurrentSpeaker('user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Start debate error:', error);\r\n      alert('Failed to start debate: ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const record = async () => {\r\n    if (recording || aiSpeaking || currentSpeaker !== 'user') {\r\n      return;\r\n    }\r\n\r\n    if (activeAudioRef.current) {\r\n      activeAudioRef.current.pause();\r\n      activeAudioRef.current = null;\r\n    }\r\n    window.speechSynthesis.cancel();\r\n    clearWordAnimation();\r\n    setAiSpeaking(false);\r\n\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      const mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/webm' });\r\n      recorderRef.current = mediaRecorder;\r\n      const chunks = [];\r\n\r\n      mediaRecorder.ondataavailable = event => {\r\n        if (event.data && event.data.size > 0) {\r\n          chunks.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.onstop = () => {\r\n        stream.getTracks().forEach(track => track.stop());\r\n        if (timerRef.current) {\r\n          clearInterval(timerRef.current);\r\n          timerRef.current = null;\r\n        }\r\n        setRecording(false);\r\n        setRecordingTime(0);\r\n        recorderRef.current = null;\r\n        if (chunks.length > 0) {\r\n          const blob = new Blob(chunks, { type: 'audio/webm' });\r\n          setAudioBlob(blob);\r\n        }\r\n      };\r\n\r\n      mediaRecorder.start();\r\n      setRecording(true);\r\n      setRecordingTime(0);\r\n\r\n      timerRef.current = setInterval(() => {\r\n        setRecordingTime(prev => {\r\n          const nextTime = prev + 1;\r\n          if (nextTime >= timeLimit * 60) {\r\n            stopRecord();\r\n            alert('Time limit reached! Recording stopped.');\r\n            return prev;\r\n          }\r\n          return nextTime;\r\n        });\r\n      }, 1000);\r\n    } catch (error) {\r\n      console.error('Microphone access error:', error);\r\n      alert('Could not access microphone. Please allow microphone permissions and try again.');\r\n    }\r\n  };\r\n\r\n  const stopRecord = () => {\r\n    const recorder = recorderRef.current;\r\n    if (!recorder || recorder.state === 'inactive') {\r\n      return;\r\n    }\r\n    recorder.stop();\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!audioBlob) {\r\n      return;\r\n    }\r\n    processRecording(audioBlob);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [audioBlob]);\r\n\r\n  const processRecording = async blob => {\r\n    const userBlob = blob;\r\n    setAudioBlob(null);\r\n    setCurrentSpeaker('ai');\r\n\r\n    try {\r\n      const fileName = `user-turn-${Date.now()}.webm`;\r\n      const formData = new FormData();\r\n      formData.append('file', userBlob, fileName);\r\n      const { data } = await axios.post(`${API_BASE}/transcribe`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      const userText = (data.transcript || '').trim() || '[No speech detected]';\r\n      const objectUrl = URL.createObjectURL(userBlob);\r\n      audioUrlsRef.current.push(objectUrl);\r\n\r\n      const timestamp = new Date().toISOString();\r\n      const userTurn = {\r\n        speaker: 'user',\r\n        text: userText,\r\n        audioUrl: objectUrl,\r\n        round: currentRound,\r\n        state: debateState,\r\n        timestamp\r\n      };\r\n\r\n      setTurns(prev => [...prev, userTurn]);\r\n\r\n      const aiResponse = await axios.post(`${API_BASE}/reply`, {\n        userText,\n        round: currentRound,\n        state: debateState,\n        transcript: userText,\n        skillLevel\n      });\n\r\n      const aiData = JSON.parse(aiResponse.data.text);\r\n      const aiTurn = {\r\n        speaker: 'ai',\r\n        text: aiData.text,\r\n        data: aiData,\r\n        round: currentRound,\r\n        state: debateState,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      setTurns(prev => [...prev, aiTurn]);\r\n      await speak(aiData.text);\r\n      advanceDebatePhase();\r\n    } catch (error) {\r\n      console.error('Recording or transcription failed:', error);\r\n      alert('Recording or transcription failed. Please try again.');\r\n      setCurrentSpeaker('user');\r\n    }\r\n  };\r\n\r\n  const playRemoteAudio = (url, text) =>\r\n    new Promise(resolve => {\r\n      clearWordAnimation();\r\n      const audio = new Audio(`${url}?v=${Date.now()}`);\r\n      activeAudioRef.current = audio;\r\n\r\n      audio.onloadedmetadata = () => {\r\n        const duration = (audio.duration || 5) * 1000 * HIGHLIGHT_STRETCH;\r\n        startWordAnimation(stripPauseTokens(text), duration);\r\n      };\r\n\r\n      audio.onerror = () => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      };\r\n\r\n      audio.onended = () => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      };\r\n\r\n      audio.play().catch(() => {\r\n        activeAudioRef.current = null;\r\n        resolve();\r\n      });\r\n    });\r\n\r\n  const speakWithBrowserTts = text =>\r\n    new Promise(resolve => {\r\n      const cleanTimingText = stripPauseTokens(text);\r\n      if (!text || !cleanTimingText) {\r\n        resolve();\r\n        return;\r\n      }\r\n      if (!window.speechSynthesis) {\r\n        resolve();\r\n        return;\r\n      }\r\n      window.speechSynthesis.cancel();\r\n      clearWordAnimation();\r\n      const vocalText = expandPauseTokensForSpeech(text);\r\n      const utterance = new SpeechSynthesisUtterance(vocalText);\n      utterance.rate = 1.5;\n      utterance.pitch = 1.08;\n      utterance.volume = 0.9;\r\n      const voices = window.speechSynthesis.getVoices();\r\n      const preferredVoice = voices.find(voice => voice.lang.startsWith('en'));\r\n      if (preferredVoice) {\r\n        utterance.voice = preferredVoice;\r\n      }\r\n      utterance.onend = () => {\r\n        utteranceRef.current = null;\r\n        resolve();\r\n      };\r\n      utterance.onerror = () => {\r\n        utteranceRef.current = null;\r\n        resolve();\r\n      };\r\n      utteranceRef.current = utterance;\r\n      const estimatedDuration = Math.max(cleanTimingText.split(' ').length * 420, 1400) * HIGHLIGHT_STRETCH;\r\n      startWordAnimation(cleanTimingText, estimatedDuration);\r\n      window.speechSynthesis.speak(utterance);\r\n    });\r\n\r\n  const speak = async payload => {\n    if (aiSpeaking) {\n      return;\n    }\n    const speechText = typeof payload === 'string' ? payload : payload?.text || '';\n    if (!speechText) {\n      return;\n    }\n\n    if (activeAudioRef.current) {\n      activeAudioRef.current.pause();\n      activeAudioRef.current = null;\n    }\n    window.speechSynthesis.cancel();\n    clearWordAnimation();\n\n    setAiSpeaking(true);\n    setCurrentSpeaker('ai');\n    setCurrentWordIndex(0);\n    setTtsWarning('');\n    const speechToken = ++speechIdRef.current;\n\n    try {\n      const { data } = await axios.post(`${API_BASE}/speak`, { text: speechText });\n      const playbackText = (data.textForSpeech || data.text || speechText).trim();\n      setTtsWarning(data.warning || '');\n      if (data.type === 'file' && data.audioUrl) {\n        await playRemoteAudio(`${API_BASE}${data.audioUrl}`, playbackText);\n      } else {\n        await speakWithBrowserTts(playbackText);\n      }\n    } catch (error) {\n      console.error('TTS failed:', error);\n      setTtsWarning('');\n      await speakWithBrowserTts(speechText);\n    } finally {\n      if (speechIdRef.current === speechToken) {\n        clearWordAnimation();\n        setAiSpeaking(false);\n        setCurrentSpeaker('user');\n      }\n    }\n  };\n\r\n  const renderAnimatedText = (text, isActive) => {\r\n    const clean = stripPauseTokens(text);\r\n    if (!isActive || !isAnimating) {\r\n      return clean || text || '';\r\n    }\r\n    if (!clean) return '';\r\n    const words = clean.split(' ');\r\n    return words.map((word, index) => (\r\n      <span\r\n        key={`${word}-${index}`}\r\n        className={index === currentWordIndex ? 'highlight' : 'word'}\r\n      >\r\n        {word}{' '}\r\n      </span>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"header\">\n        <h1>AI Debate Partner</h1>\n        {ttsWarning && (\n          <div className=\"tts-warning\" role=\"status\" aria-live=\"polite\">\n            {ttsWarning}\n          </div>\n        )}\n        <div className=\"setup-panel\">\n          <div className=\"form-group\">\r\n            <label>Debate Motion</label>\r\n            <input\r\n              value={motion}\r\n              onChange={e => setMotion(e.target.value)}\r\n              placeholder=\"Enter your debate topic...\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Your Side</label>\r\n            <select value={side} onChange={e => setSide(e.target.value)}>\r\n              <option value=\"auto\">Auto Assign Side</option>\r\n              <option value=\"pro\">Proposition</option>\r\n              <option value=\"opp\">Opposition</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\n            <label>Speech Time Limit (minutes)</label>\n            <select value={timeLimit} onChange={e => setTimeLimit(parseInt(e.target.value))}>\n              <option value={3}>3 minutes</option>\n              <option value={5}>5 minutes</option>\n              <option value={7}>7 minutes</option>\n              <option value={10}>10 minutes</option>\r\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label>AI Skill Level</label>\n            <select value={skillLevel} onChange={e => setSkillLevel(e.target.value)}>\n              {LEVEL_OPTIONS.map(level => (\n                <option key={level.id} value={level.id}>\n                  {level.label}\n                </option>\n              ))}\n            </select>\n            <p className=\"level-description\">{LEVEL_DESCRIPTIONS[skillLevel]}</p>\n          </div>\n          <button className=\"start-button\" onClick={startDebate}>Start Debate</button>\n        </div>\n      </div>\n\r\n      {debateStarted && (\r\n        <div className=\"debate-info\">\r\n          <div className=\"info-item\">\r\n            <h3>Motion</h3>\r\n            <p>{motion}</p>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <h3>Your Side</h3>\r\n            <p>{side === 'auto' ? (assignedSide === 'pro' ? 'Proposition' : 'Opposition') : side === 'pro' ? 'Proposition' : 'Opposition'}</p>\r\n          </div>\r\n          <div className=\"info-item\">\r\n            <h3>Speech Time Limit</h3>\r\n            <p>{timeLimit} minutes</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n\r\n      <div className=\"chat-container\">\r\n        <div className=\"chat\">\r\n          {turns.map((turn, i) => {\r\n            const isLatestAI = turn.speaker === 'ai' && i === turns.length - 1;\r\n            return (\r\n              <div key={`${turn.speaker}-${i}`} className={`turn ${turn.speaker}`}>\r\n                <div className=\"speaker-indicator\">\r\n                  {turn.speaker === 'ai' ? 'AI' : 'You'}\r\n                </div>\r\n                <p className={isLatestAI && isAnimating ? 'animated-text' : ''}>\r\n                  {renderAnimatedText(turn.text, isLatestAI)}\r\n                </p>\r\n                {turn.speaker === 'user' && turn.audioUrl && (\r\n                  <audio controls src={turn.audioUrl} aria-label=\"Your recorded reply\" />\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n          {aiSpeaking && <div className=\"ai-speaking\">AI is speaking...</div>}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"controls\">\r\n        {currentSpeaker === 'user' && !aiSpeaking && !debateStarted && (\r\n          <div className=\"instruction-message\">\r\n            Press the \"Record Response\" button to start recording your speech.\r\n          </div>\r\n        )}\r\n        {currentSpeaker === 'user' && !aiSpeaking && debateStarted && (\r\n          <>\r\n            <div className=\"turn-indicator\">\r\n              <h3>Your Turn - {debateState.charAt(0).toUpperCase() + debateState.slice(1)} Speech</h3>\r\n              <p>Round {currentRound} | Time Limit: {timeLimit} minutes</p>\r\n            </div>\r\n            <button\r\n              className={`record-button ${recording ? 'recording' : ''}`}\r\n              onClick={record}\r\n              disabled={recording}\r\n            >\r\n              {recording ? (\r\n                <>\r\n                  Recording ({Math.floor(recordingTime / 60)}:{(recordingTime % 60).toString().padStart(2, '0')})\r\n                  <div className=\"audio-visualizer\" aria-hidden=\"true\">\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                    <div className=\"audio-bar\"></div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                'Record Response'\r\n              )}\r\n            </button>\r\n            <button className=\"stop-button\" onClick={stopRecord} disabled={!recording}>\r\n              Stop &amp; Submit\r\n            </button>\r\n          </>\r\n        )}\r\n        {currentSpeaker === 'ai' && <div className=\"waiting-message\">AI is preparing its response...</div>}\r\n        {aiSpeaking && <div className=\"waiting-message\">AI is speaking...</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}